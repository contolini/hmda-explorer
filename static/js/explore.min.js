/*!                                      
            /$$$$$$          /$$        
           /$$__  $$        | $$        
  /$$$$$$$| $$  \__//$$$$$$ | $$$$$$$  
 /$$_____/| $$$$   /$$__  $$| $$__  $$  
| $$      | $$_/  | $$  \ $$| $$  \ $$
| $$      | $$    | $$  | $$| $$  | $$  
|  $$$$$$$| $$    | $$$$$$$/| $$$$$$$/  
 \_______/|__/    | $$____/ |_______/  
                  | $$                  
                  | $$                  
                  |__/                  

* hmda-explorer - v2.2.2 - 2016-09-07
* http://consumerfinance.gov/hmda
* Copyright (c) 2016 Consumer Financial Protection Bureau; Licensed Public Domain */

 /* ===========================================================
 * bootstrap-tooltip.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */

/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */

/**
 * @license
 * Lo-Dash 1.3.1 <http://lodash.com/>
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.4.4 <http://underscorejs.org/>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * Available under MIT license <http://lodash.com/license>
 */

/**
Copyright (c) Nicolas Gallagher and Jonathan Neal

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


Copyright (c) 2012-2013 Kit Cambridge.
http://kitcambridge.be/

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

Chosen
- by Patrick Filler for [Harvest](http://getharvest.com)
- Copyright (c) 2011-2013 by Harvest

Available for use under the [MIT License](http://en.wikipedia.org/wiki/MIT_License)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

 */

!function(a){"use strict";function b(){}function c(a,b){if(e)return b.indexOf(a);for(var c=b.length;c--;)if(b[c]===a)return c;return-1}var d=b.prototype,e=Array.prototype.indexOf?!0:!1;d._getEvents=function(){return this._events||(this._events={})},d.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,b){var d,e=this.getListenersAsObject(a);for(d in e)e.hasOwnProperty(d)&&-1===c(b,e[d])&&e[d].push(b);return this},d.on=d.addListener,d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,b){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=c(b,f[e]),-1!==d&&f[e].splice(d,1));return this},d.off=d.removeListener,d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.emitEvent=function(a,b){var c,d,e,f=this.getListenersAsObject(a);for(d in f)if(f.hasOwnProperty(d))for(c=f[d].length;c--;)e=b?f[d][c].apply(null,b):f[d][c](),e===!0&&this.removeListener(a,f[d][c]);return this},d.trigger=d.emitEvent,d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},"function"==typeof define&&define.amd?define(function(){return b}):a.EventEmitter=b}(this),function(a){function b(b,d,g,h){var i=a("<table></table>").addClass("tidy_table");i.mousedown(function(){return!1}),i.mouseover(function(){return!1});for(var j=a("<thead></thead>"),k=a("<tbody></tbody>"),l=a("<tr></tr>"),m=d.columnTitles,n=0;n<m.length;n++){var o=m[n],p=a("<th></th>").append(o).attr("title",o);l.append(p);var q;"desc"!=h&&h?(q="sort_asc",p.order="desc"):(q="sort_desc",p.order="asc"),g==n&&p.addClass(q),p.bind("click",{col_number:n,sort_order:p.order},function(a){f(b,d,a.data.col_number,a.data.sort_order)})}j.append(l);for(var r=d.columnValues,s=0;s<r.length;s++){for(var l=a("<tr></tr>"),t=0;t<r[s].length;t++){var u=r[s][t],p=a("<td></td>").append(u).attr("title",u);l.append(p),d.postProcess&&"function"==typeof d.postProcess.column&&d.postProcess.column(p)}k.append(l)}if(i.append(j),i.append(k),b.options&&b.options.enableCheckbox){var v=i.find("tr");v.each(function(b){l=a(this);var c,d=a("<input></input>").attr("type","checkbox");0==b?(c=a("<th></th>"),d.click(function(){e(v)})):(c=a("<td></td>"),d.bind("click",{box_number:b},function(a){e(v,a.data.box_number)})),c.append(d),l.prepend(c)})}d.postProcess&&"function"==typeof d.postProcess.table&&d.postProcess.table(i);var w=b.container,x=w.children("table.tidy_table");return x[0]?x.replaceWith(i):(b.options&&b.options.enableMenu&&w.append(c(w,d,"menu1")),w.append(i),b.options&&b.options.enableMenu&&w.append(c(w,d,"menu2"))),i}function c(b,c,e){var f=c.menuOptions,g=a("<select></select>").addClass("menu_options "+e).change(function(){var c=a(this),e=f[c.val()][1].callback;"function"==typeof e&&e(d(b)),c.val(0)});return a.each(f,function(b){var c=a("<option>"+f[b][0]+"</option>").attr("value",b);g.append(c)}),c.postProcess&&"function"==typeof c.postProcess.menu&&c.postProcess.menu(g),g}function d(a){for(var b=a.find("tbody > tr"),c=[],d=0;d<b.length;d++){var e=b[d].childNodes;if(e[0].firstChild.checked){for(var f=[],g=1;g<e.length;g++)f[g-1]=e[g].textContent;c.push(f)}}return c}function e(b,c){var d=null;b.each(function(b){var e=a(this),f=e.children().find("input");if(null==c){if(0==b)return void(d=f.is(":checked")?!0:!1);d?(e.removeClass("check_off").addClass("check_on"),f.attr("checked",!0)):(e.removeClass("check_on").addClass("check_off"),f.attr("checked",!1))}else f.is(":checked")?(e.removeClass("check_off").addClass("check_on"),f.attr("checked",!0)):(e.removeClass("check_on").addClass("check_off"),f.attr("checked",!1))})}function f(a,c,d,e){var f="desc"==e?-1:1;c.columnValues.sort(function(a,b){var c=String(a[d]).replace(/$|%|#/g,""),e=String(b[d]).replace(/$|%|#/g,"");return isNaN(c)?[f*g(c,e)]>[f*g(e,c)]?-1:1:[f*h(c,e)]}),b(a,c,d,e)}function g(a,b){return a>b?1:b>a?-1:0}function h(a,b){return b-a}var i={init:function(c,d){var e={enableCheckbox:!1,enableMenu:!1};return arguments.length>1?a.extend(e,c):d=c,this.each(function(){var c=a(this),f=c.data();return a.isEmptyObject(f)&&c.data({container:c,options:e}),b(f,d)})},destroy:function(){return this.each(function(){a(this).removeData()})}};a.fn.TidyTable=function(b){return i[b]?i[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.TidyTable"):i.init.apply(this,arguments)}}(jQuery),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(a.isPlainObject(f)?c[e]=a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):c[e]=f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),1===arguments.length)return f[c]===b?null:f[c];f[c]=d}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a,b){var c=!1;a(document).mouseup(function(){c=!1}),a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=1===b.which,f="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(b){var d,e,f,g,h=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(b.target).addClass("ui-state-active"),d=this._start(b,h),d===!1))return}switch(g=this.options.step,e=f=this.options.values&&this.options.values.length?this.values(h):this.value(),b.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(b,h,f)},click:function(a){a.preventDefault()},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})}(jQuery),function(){"use strict";var a,b=function(){var a=/\-([a-z])/g,b=function(a,b){return b.toUpperCase()};return function(c){return c.replace(a,b)}}(),c=function(a,c){var d,e,f,g,h,i;if(window.getComputedStyle?d=window.getComputedStyle(a,null).getPropertyValue(c):(e=b(c),d=a.currentStyle?a.currentStyle[e]:a.style[e]),"cursor"===c&&(!d||"auto"===d))for(f=a.tagName.toLowerCase(),g=["a"],h=0,i=g.length;i>h;h++)if(f===g[h])return"pointer";return d},d=function(a){if(p.prototype._singleton){a||(a=window.event);var b;this!==window?b=this:a.target?b=a.target:a.srcElement&&(b=a.srcElement),p.prototype._singleton.setCurrent(b)}},e=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},f=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},g=function(a,b){if(a.addClass)return a.addClass(b),a;if(b&&"string"==typeof b){var c=(b||"").split(/\s+/);if(1===a.nodeType)if(a.className){for(var d=" "+a.className+" ",e=a.className,f=0,g=c.length;g>f;f++)d.indexOf(" "+c[f]+" ")<0&&(e+=" "+c[f]);a.className=e.replace(/^\s+|\s+$/g,"")}else a.className=b}return a},h=function(a,b){if(a.removeClass)return a.removeClass(b),a;if(b&&"string"==typeof b||void 0===b){var c=(b||"").split(/\s+/);if(1===a.nodeType&&a.className)if(b){for(var d=(" "+a.className+" ").replace(/[\n\t]/g," "),e=0,f=c.length;f>e;e++)d=d.replace(" "+c[e]+" "," ");a.className=d.replace(/^\s+|\s+$/g,"")}else a.className=""}return a},i=function(){var a,b,c,d=1;return"function"==typeof document.body.getBoundingClientRect&&(a=document.body.getBoundingClientRect(),b=a.right-a.left,c=document.body.offsetWidth,d=Math.round(b/c*100)/100),d},j=function(a){var b={left:0,top:0,width:0,height:0,zIndex:999999999},d=c(a,"z-index");if(d&&"auto"!==d&&(b.zIndex=parseInt(d,10)),a.getBoundingClientRect){var e,f,g,h=a.getBoundingClientRect();"pageXOffset"in window&&"pageYOffset"in window?(e=window.pageXOffset,f=window.pageYOffset):(g=i(),e=Math.round(document.documentElement.scrollLeft/g),f=Math.round(document.documentElement.scrollTop/g));var j=document.documentElement.clientLeft||0,k=document.documentElement.clientTop||0;b.left=h.left+e-j,b.top=h.top+f-k,b.width="width"in h?h.width:h.right-h.left,b.height="height"in h?h.height:h.bottom-h.top}return b},k=function(a,b){var c=!(b&&b.useNoCache===!1);return c?(-1===a.indexOf("?")?"?":"&")+"nocache="+(new Date).getTime():""},l=function(a){var b=[],c=[];return a.trustedOrigins&&("string"==typeof a.trustedOrigins?c.push(a.trustedOrigins):"object"==typeof a.trustedOrigins&&"length"in a.trustedOrigins&&(c=c.concat(a.trustedOrigins))),a.trustedDomains&&("string"==typeof a.trustedDomains?c.push(a.trustedDomains):"object"==typeof a.trustedDomains&&"length"in a.trustedDomains&&(c=c.concat(a.trustedDomains))),c.length&&b.push("trustedOrigins="+encodeURIComponent(c.join(","))),"string"==typeof a.amdModuleId&&a.amdModuleId&&b.push("amdModuleId="+encodeURIComponent(a.amdModuleId)),"string"==typeof a.cjsModuleId&&a.cjsModuleId&&b.push("cjsModuleId="+encodeURIComponent(a.cjsModuleId)),b.join("&")},m=function(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;d>c;c++)if(b[c]===a)return c;return-1},n=function(a){if("string"==typeof a)throw new TypeError("ZeroClipboard doesn't accept query strings.");
return a.length?a:[a]},o=function(a,b,c,d,e){e?window.setTimeout(function(){a.call(b,c,d)},0):a.call(b,c,d)},p=function(a,b){if(a&&(p.prototype._singleton||this).glue(a),p.prototype._singleton)return p.prototype._singleton;p.prototype._singleton=this,this.options={};for(var c in s)this.options[c]=s[c];for(var d in b)this.options[d]=b[d];this.handlers={},p.detectFlashSupport()&&v()},q=[];p.prototype.setCurrent=function(b){a=b,this.reposition();var d=b.getAttribute("title");d&&this.setTitle(d);var e=this.options.forceHandCursor===!0||"pointer"===c(b,"cursor");return r.call(this,e),this},p.prototype.setText=function(a){return a&&""!==a&&(this.options.text=a,this.ready()&&this.flashBridge.setText(a)),this},p.prototype.setTitle=function(a){return a&&""!==a&&this.htmlBridge.setAttribute("title",a),this},p.prototype.setSize=function(a,b){return this.ready()&&this.flashBridge.setSize(a,b),this},p.prototype.setHandCursor=function(a){return a="boolean"==typeof a?a:!!a,r.call(this,a),this.options.forceHandCursor=a,this};var r=function(a){this.ready()&&this.flashBridge.setHandCursor(a)};p.version="1.2.3";var s={moviePath:"ZeroClipboard.swf",trustedOrigins:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain",useNoCache:!0,forceHandCursor:!1};p.setDefaults=function(a){for(var b in a)s[b]=a[b]},p.destroy=function(){p.prototype._singleton.unglue(q);var a=p.prototype._singleton.htmlBridge;a.parentNode.removeChild(a),delete p.prototype._singleton},p.detectFlashSupport=function(){var a=!1;if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=!0)}catch(b){}return!a&&navigator.mimeTypes["application/x-shockwave-flash"]&&(a=!0),a};var t=null,u=null,v=function(){var a,b,c=p.prototype._singleton,d=document.getElementById("global-zeroclipboard-html-bridge");if(!d){var e={};for(var f in c.options)e[f]=c.options[f];e.amdModuleId=t,e.cjsModuleId=u;var g=l(e),h='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+c.options.moviePath+k(c.options.moviePath,c.options)+'"/>         <param name="allowScriptAccess" value="'+c.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+g+'"/>         <embed src="'+c.options.moviePath+k(c.options.moviePath,c.options)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+g+'"           scale="exactfit">         </embed>       </object>';d=document.createElement("div"),d.id="global-zeroclipboard-html-bridge",d.setAttribute("class","global-zeroclipboard-container"),d.setAttribute("data-clipboard-ready",!1),d.style.position="absolute",d.style.left="-9999px",d.style.top="-9999px",d.style.width="15px",d.style.height="15px",d.style.zIndex="9999",d.innerHTML=h,document.body.appendChild(d)}c.htmlBridge=d,a=document["global-zeroclipboard-flash-bridge"],a&&(b=a.length)&&(a=a[b-1]),c.flashBridge=a||d.children[0].lastElementChild};p.prototype.resetBridge=function(){return this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),h(a,this.options.activeClass),a=null,this.options.text=null,this},p.prototype.ready=function(){var a=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===a||a===!0},p.prototype.reposition=function(){if(!a)return!1;var b=j(a);return this.htmlBridge.style.top=b.top+"px",this.htmlBridge.style.left=b.left+"px",this.htmlBridge.style.width=b.width+"px",this.htmlBridge.style.height=b.height+"px",this.htmlBridge.style.zIndex=b.zIndex+1,this.setSize(b.width,b.height),this},p.dispatch=function(a,b){p.prototype._singleton.receiveEvent(a,b)},p.prototype.on=function(a,b){for(var c=a.toString().split(/\s/g),d=0;d<c.length;d++)a=c[d].toLowerCase().replace(/^on/,""),this.handlers[a]||(this.handlers[a]=b);return this.handlers.noflash&&!p.detectFlashSupport()&&this.receiveEvent("onNoFlash",null),this},p.prototype.addEventListener=p.prototype.on,p.prototype.off=function(a,b){for(var c=a.toString().split(/\s/g),d=0;d<c.length;d++){a=c[d].toLowerCase().replace(/^on/,"");for(var e in this.handlers)e===a&&this.handlers[e]===b&&delete this.handlers[e]}return this},p.prototype.removeEventListener=p.prototype.off,p.prototype.receiveEvent=function(b,c){b=b.toString().toLowerCase().replace(/^on/,"");var d=a,e=!0;switch(b){case"load":if(c&&parseFloat(c.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,""))<10)return void this.receiveEvent("onWrongFlash",{flashVersion:c.flashVersion});this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":g(d,this.options.hoverClass);break;case"mouseout":h(d,this.options.hoverClass),this.resetBridge();break;case"mousedown":g(d,this.options.activeClass);break;case"mouseup":h(d,this.options.activeClass);break;case"datarequested":var f=d.getAttribute("data-clipboard-target"),i=f?document.getElementById(f):null;if(i){var j=i.value||i.textContent||i.innerText;j&&this.setText(j)}else{var k=d.getAttribute("data-clipboard-text");k&&this.setText(k)}e=!1;break;case"complete":this.options.text=null}if(this.handlers[b]){var l=this.handlers[b];"string"==typeof l&&"function"==typeof window[l]&&(l=window[l]),"function"==typeof l&&o(l,d,this,c,e)}},p.prototype.glue=function(a){a=n(a);for(var b=0;b<a.length;b++)-1==m(a[b],q)&&(q.push(a[b]),e(a[b],"mouseover",d));return this},p.prototype.unglue=function(a){a=n(a);for(var b=0;b<a.length;b++){f(a[b],"mouseover",d);var c=m(a[b],q);-1!=c&&q.splice(c,1)}return this},"function"==typeof define&&define.amd?define(["require","exports","module"],function(a,b,c){return t=c&&c.id||null,p}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?(u=module.id||null,module.exports=p):window.ZeroClipboard=p}(),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}}),function(a){function b(){}function c(a){g=[a]}function d(a,b,c){return a&&a.apply(b.context||b,c)}function e(a){return/\?/.test(a)?"&":"?"}function f(f){function n(a){X++||(Y(),S&&(A[U]={s:[a]}),O&&(a=O.apply(f,[a])),d(L,f,[a,v,f]),d(N,f,[f,v]))}function F(a){X++||(Y(),S&&a!=w&&(A[U]=a),d(M,f,[f,a]),d(N,f,[f,a]))}f=a.extend({},C,f);var G,H,I,J,K,L=f.success,M=f.error,N=f.complete,O=f.dataFilter,P=f.callbackParameter,Q=f.callback,R=f.cache,S=f.pageCache,T=f.charset,U=f.url,V=f.data,W=f.timeout,X=0,Y=b;return y&&y(function(a){a.done(L).fail(M),L=a.resolve,M=a.reject}).promise(f),f.abort=function(){!X++&&Y()},d(f.beforeSend,f,[f])===!1||X?f:(U=U||j,V=V?"string"==typeof V?V:a.param(V,f.traditional):j,U+=V?e(U)+V:j,P&&(U+=e(U)+encodeURIComponent(P)+"=?"),!R&&!S&&(U+=e(U)+"_"+(new Date).getTime()+"="),U=U.replace(/=\?(&|$)/,"="+Q+"$1"),S&&(G=A[U])?G.s?n(G.s[0]):F(G):(x[Q]=c,I=a(u)[0],I.id=m+B++,T&&(I[i]=T),D&&D.version()<11.6?(J=a(u)[0]).text="document.getElementById('"+I.id+"')."+p+"()":I[h]=h,E&&(I.htmlFor=I.id,I.event=o),I[q]=I[p]=I[r]=function(a){if(!I[s]||!/i/.test(I[s])){try{I[o]&&I[o]()}catch(b){}a=g,g=0,a?n(a[0]):F(k)}},I.src=U,Y=function(a){K&&clearTimeout(K),I[r]=I[q]=I[p]=null,z[t](I),J&&z[t](J)},z[l](I,H=z.firstChild),J&&z[l](J,H),K=W>0&&setTimeout(function(){F(w)},W)),f)}var g,h="async",i="charset",j="",k="error",l="insertBefore",m="_jqjsp",n="on",o=n+"click",p=n+k,q=n+"load",r=n+"readystatechange",s="readyState",t="removeChild",u="<script>",v="success",w="timeout",x=window,y=a.Deferred,z=a("head")[0]||document.documentElement,A={},B=0,C={callback:m,url:location.href},D=x.opera,E=!!a("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;f.setup=function(b){a.extend(C,b)},a.jsonp=f}(jQuery),this.PDP=this.PDP||{},this.PDP.templates=this.PDP.templates||{},this.PDP.templates.location=function(obj){obj||(obj={});var __t,__p="";_.escape,Array.prototype.join;with(obj)__p+='<ul class="fields location-set location-set-'+(null==(__t=num)?"":__t)+'" data-location-num="'+(null==(__t=num)?"":__t)+'">\n\n  ',1===num&&(__p+='\n    <div class="msg msa-warning hidden">\n      Due to the recent changes in MSA definitions, we\'ve disabled metro area filters when you select 2014 and another year. To learn more, see <a href="#msa-note" id="highlight-msa-note">note above</a>.\n    </div>\n  '),__p+='\n\n  <!-- filter field -->\n  <li class="field state_code state_code-'+(null==(__t=num)?"":__t)+'">\n    <label for="state_code-'+(null==(__t=num)?"":__t)+'">State:</label>\n    <div class="widget select">\n      <select class="param" name="state_code-'+(null==(__t=num)?"":__t)+'" id="state_code-'+(null==(__t=num)?"":__t)+'" data-dependent="county_code-'+(null==(__t=num)?"":__t)+'" data-toggle="msamd-'+(null==(__t=num)?"":__t)+'" data-placeholder="Select a state">\n        <option value=""></option>\n        <option value="1">Alabama</option>\n        <option value="2">Alaska</option>\n        <option value="4">Arizona</option>\n        <option value="5">Arkansas</option>\n        <option value="6">California</option>\n        <option value="8">Colorado</option>\n        <option value="9">Connecticut</option>\n        <option value="10">Delaware</option>\n        <option value="11">District of Columbia</option>\n        <option value="12">Florida</option>\n        <option value="13">Georgia</option>\n        <option value="15">Hawaii</option>\n        <option value="16">Idaho</option>\n        <option value="17">Illinois</option>\n        <option value="18">Indiana</option>\n        <option value="19">Iowa</option>\n        <option value="20">Kansas</option>\n        <option value="21">Kentucky</option>\n        <option value="22">Louisiana</option>\n        <option value="23">Maine</option>\n        <option value="24">Maryland</option>\n        <option value="25">Massachusetts</option>\n        <option value="26">Michigan</option>\n        <option value="27">Minnesota</option>\n        <option value="28">Mississippi</option>\n        <option value="29">Missouri</option>\n        <option value="30">Montana</option>\n        <option value="31">Nebraska</option>\n        <option value="32">Nevada</option>\n        <option value="33">New Hampshire</option>\n        <option value="34">New Jersey</option>\n        <option value="35">New Mexico</option>\n        <option value="36">New York</option>\n        <option value="37">North Carolina</option>\n        <option value="38">North Dakota</option>\n        <option value="39">Ohio</option>\n        <option value="40">Oklahoma</option>\n        <option value="41">Oregon</option>\n        <option value="42">Pennsylvania</option>\n        <option value="44">Rhode Island</option>\n        <option value="45">South Carolina</option>\n        <option value="46">South Dakota</option>\n        <option value="47">Tennessee</option>\n        <option value="48">Texas</option>\n        <option value="49">Utah</option>\n        <option value="50">Vermont</option>\n        <option value="51">Virginia</option>\n        <option value="53">Washington</option>\n        <option value="54">West Virginia</option>\n        <option value="55">Wisconsin</option>\n        <option value="56">Wyoming</option>\n        <option value="72">Puerto Rico</option>\n      </select>\n    </div>\n  </li>\n  <!-- /filter field -->\n\n  <li class="location-separator">\n      <span>- or -</span>\n  </li>\n\n  <!-- filter field -->\n  <li class="field msamd msamd-'+(null==(__t=num)?"":__t)+'">\n    <label for="msamd-'+(null==(__t=num)?"":__t)+'">Metro Area:</label>\n    <div class="widget select">\n      <select class="param" name="msamd-'+(null==(__t=num)?"":__t)+'" id="msamd-'+(null==(__t=num)?"":__t)+'" data-toggle="state_code-'+(null==(__t=num)?"":__t)+'" data-placeholder="Select an MSA/MD">\n        <option value=""></option>\n        <option value="10180">Abilene - TX</option>\n        <option value="10380">Aguadilla, Isabela - PR</option>\n        <option value="10420">Akron - OH</option>\n        <option value="10500">Albany - GA</option>\n        <option value="10540">Albany - OR (2014-2015)</option>\n        <option value="10580">Albany, Schenectady, Troy - NY</option>\n        <option value="10740">Albuquerque - NM</option>\n        <option value="10780">Alexandria - LA</option>\n        <option value="10900">Allentown, Bethlehem, Easton - PA, NJ</option>\n        <option value="11020">Altoona - PA</option>\n        <option value="11100">Amarillo - TX</option>\n        <option value="11180">Ames - IA</option>\n        <option value="11244">Anaheim, Santa Ana, Irvine - CA (2014-2015)</option>\n        <option value="11260">Anchorage - AK</option>\n        <option value="11300">Anderson - IN (2007-2013)</option>\n        <option value="11340">Anderson - SC (2007-2013)</option>\n        <option value="11460">Ann Arbor - MI</option>\n        <option value="11500">Anniston, Oxford, Jacksonville - AL</option>\n        <option value="11540">Appleton - WI</option>\n        <option value="11640">Arecibo - PR (2014-2015)</option>\n        <option value="11700">Asheville - NC</option>\n        <option value="12020">Athens, Clarke County - GA</option>\n        <option value="12060">Atlanta, Sandy Springs, Roswell - GA</option>\n        <option value="12100">Atlantic City, Hammonton - NJ</option>\n        <option value="12220">Auburn, Opelika - AL</option>\n        <option value="12260">Augusta, Richmond County - GA, SC</option>\n        <option value="12420">Austin, Round Rock - TX</option>\n        <option value="12540">Bakersfield - CA</option>\n        <option value="12580">Baltimore, Columbia, Towson - MD</option>\n        <option value="12620">Bangor - ME</option>\n        <option value="12700">Barnstable Town - MA</option>\n        <option value="12940">Baton Rouge - LA</option>\n        <option value="12980">Battle Creek - MI</option>\n        <option value="13020">Bay City - MI</option>\n        <option value="13140">Beaumont, Port Arthur - TX</option>\n        <option value="13220">Beckley - WV (2014-2015)</option>\n        <option value="13380">Bellingham - WA</option>\n        <option value="13460">Bend, Redmond - OR</option>\n        <option value="13644">Bethesda, Rockville, Frederick - MD (2007-2013)</option>\n        <option value="13740">Billings - MT</option>\n        <option value="13780">Binghamton - NY</option>\n        <option value="13820">Birmingham, Hoover - AL</option>\n        <option value="13900">Bismarck - ND</option>\n        <option value="13980">Blacksburg, Christiansburg, Radford - VA</option>\n        <option value="14010">Bloomington - IL (2014-2015)</option>\n        <option value="14020">Bloomington - IN</option>\n        <option value="14060">Bloomington, Normal - IL (2007-2013)</option>\n        <option value="14100">Bloomsburg, Berwick - PA (2014-2015)</option>\n        <option value="14260">Boise City - ID</option>\n        <option value="14454">Boston - MA (2014-2015)</option>\n        <option value="14484">Boston, Quincy - MA (2007-2013)</option>\n        <option value="14500">Boulder - CO</option>\n        <option value="14540">Bowling Green - KY</option>\n        <option value="14600">Bradenton, Sarasota, Venice - FL (2008-2009)</option>\n        <option value="14740">Bremerton, Silverdale - WA</option>\n        <option value="14860">Bridgeport, Stamford, Norwalk - CT</option>\n        <option value="15180">Brownsville, Harlingen - TX</option>\n        <option value="15260">Brunswick - GA</option>\n        <option value="15380">Buffalo, Cheektowaga, Niagara Falls - NY</option>\n        <option value="15500">Burlington - NC</option>\n        <option value="15540">Burlington, South Burlington - VT</option>\n        <option value="15680">California, Lexington Park - MD (2014-2015)</option>\n        <option value="15764">Cambridge, Newton, Framingham - MA</option>\n        <option value="15804">Camden - NJ</option>\n        <option value="15940">Canton, Massillon - OH</option>\n        <option value="15980">Cape Coral, Fort Myers - FL</option>\n        <option value="16020">Cape Girardeau - MO, IL (2009-2015)</option>\n        <option value="16060">Carbondale, Marion - IL (2014-2015)</option>\n        <option value="16180">Carson City - NV</option>\n        <option value="16220">Casper - WY</option>\n        <option value="16300">Cedar Rapids - IA</option>\n        <option value="16540">Chambersburg, Waynesboro - PA (2014-2015)</option>\n        <option value="16580">Champaign, Urbana - IL</option>\n        <option value="16620">Charleston - WV</option>\n        <option value="16700">Charleston, North Charleston - SC</option>\n        <option value="16740">Charlotte, Concord, Gastonia - NC, SC</option>\n        <option value="16820">Charlottesville - VA</option>\n        <option value="16860">Chattanooga - TN, GA</option>\n        <option value="16940">Cheyenne - WY</option>\n        <option value="16974">Chicago, Naperville, Arlington Heights - IL</option>\n        <option value="17020">Chico - CA</option>\n        <option value="17140">Cincinnati - OH, KY, IN</option>\n        <option value="17300">Clarksville - TN, KY</option>\n        <option value="17420">Cleveland - TN</option>\n        <option value="17460">Cleveland, Elyria - OH</option>\n        <option value="17660">Coeur D\'Alene - ID</option>\n        <option value="17780">College Station, Bryan - TX</option>\n        <option value="17820">Colorado Springs - CO</option>\n        <option value="17860">Columbia - MO</option>\n        <option value="17900">Columbia - SC</option>\n        <option value="17980">Columbus - GA, AL</option>\n        <option value="18020">Columbus - IN</option>\n        <option value="18140">Columbus - OH</option>\n        <option value="18580">Corpus Christi - TX</option>\n        <option value="18700">Corvallis - OR</option>\n        <option value="18880">Crestview, Fort Walton Beach, Destin - FL (2010-2015)</option>\n        <option value="19060">Cumberland - MD, WV</option>\n        <option value="19124">Dallas, Plano, Irving - TX</option>\n        <option value="19140">Dalton - GA</option>\n        <option value="19180">Danville - IL</option>\n        <option value="19260">Danville - VA (2007-2013)</option>\n        <option value="19300">Daphne, Fairhope, Foley - AL (2014-2015)</option>\n        <option value="19340">Davenport, Moline, Rock Island - IA, IL</option>\n        <option value="19380">Dayton - OH</option>\n        <option value="19460">Decatur - AL</option>\n        <option value="19500">Decatur - IL</option>\n        <option value="19660">Deltona, Daytona Beach, Ormond Beach - FL</option>\n        <option value="19740">Denver, Aurora, Lakewood - CO</option>\n        <option value="19780">Des Moines, West Des Moines - IA</option>\n        <option value="19804">Detroit, Dearborn, Livonia - MI</option>\n        <option value="20020">Dothan - AL</option>\n        <option value="20100">Dover - DE</option>\n        <option value="20220">Dubuque - IA</option>\n        <option value="20260">Duluth - MN, WI</option>\n        <option value="20500">Durham, Chapel Hill - NC</option>\n        <option value="20524">Dutchess County, Putnam County - NY (2014-2015)</option>\n        <option value="20700">East Stroudsburg - PA (2014-2015)</option>\n        <option value="20740">Eau Claire - WI</option>\n        <option value="20764">Edison, New Brunswick - NJ (2007-2013)</option>\n        <option value="20940">El Centro - CA</option>\n        <option value="20994">Elgin - IL (2014-2015)</option>\n        <option value="21060">Elizabethtown, Fort Knox - KY</option>\n        <option value="21140">Elkhart, Goshen - IN</option>\n        <option value="21300">Elmira - NY</option>\n        <option value="21340">El Paso - TX</option>\n        <option value="21500">Erie - PA</option>\n        <option value="21660">Eugene - OR</option>\n        <option value="21780">Evansville - IN, KY</option>\n        <option value="21820">Fairbanks - AK</option>\n        <option value="21940">Fajardo - PR (2007-2013)</option>\n        <option value="22020">Fargo - ND, MN</option>\n        <option value="22140">Farmington - NM</option>\n        <option value="22180">Fayetteville - NC</option>\n        <option value="22220">Fayetteville, Springdale, Rogers - AR, MO</option>\n        <option value="22380">Flagstaff - AZ</option>\n        <option value="22420">Flint - MI</option>\n        <option value="22500">Florence - SC</option>\n        <option value="22520">Florence, Muscle Shoals - AL</option>\n        <option value="22540">Fond du Lac - WI</option>\n        <option value="22660">Fort Collins - CO</option>\n        <option value="22744">Fort Lauderdale, Pompano Beach, Deerfield Beach - FL</option>\n        <option value="22900">Fort Smith - AR, OK</option>\n        <option value="23020">Fort Walton Beach, Crestview, Destin - FL (2007-2009)</option>\n        <option value="23060">Fort Wayne - IN</option>\n        <option value="23104">Fort Worth, Arlington - TX</option>\n        <option value="23420">Fresno - CA</option>\n        <option value="23460">Gadsden - AL</option>\n        <option value="23540">Gainesville - FL</option>\n        <option value="23580">Gainesville - GA</option>\n        <option value="23844">Gary - IN</option>\n        <option value="23900">Gettysburg - PA (2014-2015)</option>\n        <option value="24020">Glens Falls - NY</option>\n        <option value="24140">Goldsboro - NC</option>\n        <option value="24220">Grand Forks - ND, MN</option>\n        <option value="24260">Grand Island - NE (2014-2015)</option>\n        <option value="24300">Grand Junction - CO</option>\n        <option value="24340">Grand Rapids, Wyoming - MI</option>\n        <option value="24420">Grants Pass - OR (2014-2015)</option>\n        <option value="24500">Great Falls - MT</option>\n        <option value="24540">Greeley - CO</option>\n        <option value="24580">Green Bay - WI</option>\n        <option value="24660">Greensboro, High Point - NC</option>\n        <option value="24780">Greenville - NC</option>\n        <option value="24860">Greenville, Anderson, Mauldin - SC</option>\n        <option value="25020">Guayama - PR</option>\n        <option value="25060">Gulfport, Biloxi, Pascagoula - MS</option>\n        <option value="25180">Hagerstown, Martinsburg - MD, WV</option>\n        <option value="25220">Hammond - LA (2014-2015)</option>\n        <option value="25260">Hanford, Corcoran - CA</option>\n        <option value="25420">Harrisburg, Carlisle - PA</option>\n        <option value="25500">Harrisonburg - VA</option>\n        <option value="25540">Hartford, West Hartford, East Hartford - CT</option>\n        <option value="25620">Hattiesburg - MS</option>\n        <option value="25860">Hickory, Lenoir, Morganton - NC</option>\n        <option value="25940">Hilton Head Island, Bluffton, Beaufort - SC (2014-2015)</option>\n        <option value="25980">Hinesville - GA</option>\n        <option value="26100">Holland, Grand Haven - MI (2007-2013)</option>\n        <option value="26140">Homosassa Springs - FL (2014-2015)</option>\n        <option value="26180">Honolulu - HI (2007-2013)</option>\n        <option value="26300">Hot Springs - AR</option>\n        <option value="26380">Houma, Thibodaux - LA</option>\n        <option value="26420">Houston, The Woodlands, Sugar Land - TX</option>\n        <option value="26580">Huntington, Ashland - WV, KY, OH</option>\n        <option value="26620">Huntsville - AL</option>\n        <option value="26820">Idaho Falls - ID</option>\n        <option value="26900">Indianapolis, Carmel, Anderson - IN</option>\n        <option value="26980">Iowa City - IA</option>\n        <option value="27060">Ithaca - NY</option>\n        <option value="27100">Jackson - MI</option>\n        <option value="27140">Jackson - MS</option>\n        <option value="27180">Jackson - TN</option>\n        <option value="27260">Jacksonville - FL</option>\n        <option value="27340">Jacksonville - NC</option>\n        <option value="27500">Janesville, Beloit - WI</option>\n        <option value="27620">Jefferson City - MO</option>\n        <option value="27740">Johnson City - TN</option>\n        <option value="27780">Johnstown - PA</option>\n        <option value="27860">Jonesboro - AR</option>\n        <option value="27900">Joplin - MO</option>\n        <option value="27980">Kahului, Wailuku, Lahaina - HI (2014-2015)</option>\n        <option value="28020">Kalamazoo, Portage - MI</option>\n        <option value="28100">Kankakee - IL</option>\n        <option value="28140">Kansas City - MO, KS</option>\n        <option value="28420">Kennewick, Richland - WA</option>\n        <option value="28660">Killeen, Temple - TX</option>\n        <option value="28700">Kingsport, Bristol, Bristol - TN, VA</option>\n        <option value="28740">Kingston - NY</option>\n        <option value="28940">Knoxville - TN</option>\n        <option value="29020">Kokomo - IN</option>\n        <option value="29100">La Crosse, Onalaska - WI, MN</option>\n        <option value="29140">Lafayette - IN (2007-2013)</option>\n        <option value="29180">Lafayette - LA</option>\n        <option value="29200">Lafayette, West Lafayette - IN (2014-2015)</option>\n        <option value="29340">Lake Charles - LA</option>\n        <option value="29404">Lake County, Kenosha County - IL, WI</option>\n        <option value="29420">Lake Havasu City, Kingman - AZ</option>\n        <option value="29460">Lakeland, Winter Haven - FL</option>\n        <option value="29540">Lancaster - PA</option>\n        <option value="29620">Lansing, East Lansing - MI</option>\n        <option value="29700">Laredo - TX</option>\n        <option value="29740">Las Cruces - NM</option>\n        <option value="29820">Las Vegas, Henderson, Paradise - NV</option>\n        <option value="29940">Lawrence - KS</option>\n        <option value="30020">Lawton - OK</option>\n        <option value="30140">Lebanon - PA</option>\n        <option value="30300">Lewiston - ID, WA</option>\n        <option value="30340">Lewiston, Auburn - ME</option>\n        <option value="30460">Lexington, Fayette - KY</option>\n        <option value="30620">Lima - OH</option>\n        <option value="30700">Lincoln - NE</option>\n        <option value="30780">Little Rock, North Little Rock, Conway - AR</option>\n        <option value="30860">Logan - UT, ID</option>\n        <option value="30980">Longview - TX</option>\n        <option value="31020">Longview - WA</option>\n        <option value="31084">Los Angeles, Long Beach, Glendale - CA</option>\n        <option value="31140">Louisville, Jefferson County - KY, IN</option>\n        <option value="31180">Lubbock - TX</option>\n        <option value="31340">Lynchburg - VA</option>\n        <option value="31420">Macon - GA</option>\n        <option value="31460">Madera - CA</option>\n        <option value="31540">Madison - WI</option>\n        <option value="31700">Manchester, Nashua - NH</option>\n        <option value="31740">Manhattan - KS (2009-2015)</option>\n        <option value="31860">Mankato, North Mankato - MN (2009-2015)</option>\n        <option value="31900">Mansfield - OH</option>\n        <option value="32420">Mayaguez - PR</option>\n        <option value="32580">McAllen, Edinburg, Mission - TX</option>\n        <option value="32780">Medford - OR</option>\n        <option value="32820">Memphis - TN, MS, AR</option>\n        <option value="32900">Merced - CA</option>\n        <option value="33124">Miami, Miami Beach, Kendall - FL</option>\n        <option value="33140">Michigan City, La Porte - IN</option>\n        <option value="33220">Midland - MI (2014-2015)</option>\n        <option value="33260">Midland - TX</option>\n        <option value="33340">Milwaukee, Waukesha, West Allis - WI</option>\n        <option value="33460">Minneapolis, St. Paul, Bloomington - MN, WI</option>\n        <option value="33540">Missoula - MT</option>\n        <option value="33660">Mobile - AL</option>\n        <option value="33700">Modesto - CA</option>\n        <option value="33740">Monroe - LA</option>\n        <option value="33780">Monroe - MI</option>\n        <option value="33860">Montgomery - AL</option>\n        <option value="33874">Montgomery County, Bucks County, Chester County - PA (2014-2015)</option>\n        <option value="34060">Morgantown - WV</option>\n        <option value="34100">Morristown - TN</option>\n        <option value="34580">Mount Vernon, Anacortes - WA</option>\n        <option value="34620">Muncie - IN</option>\n        <option value="34740">Muskegon - MI</option>\n        <option value="34820">Myrtle Beach, Conway, North Myrtle Beach - SC, NC</option>\n        <option value="34900">Napa - CA</option>\n        <option value="34940">Naples, Immokalee, Marco Island - FL</option>\n        <option value="34980">Nashville-Davidson, Murfreesboro, Franklin - TN</option>\n        <option value="35004">Nassau County, Suffolk County - NY</option>\n        <option value="35084">Newark - NJ, PA</option>\n        <option value="35100">New Bern - NC (2014-2015)</option>\n        <option value="35300">New Haven, Milford - CT</option>\n        <option value="35380">New Orleans, Metairie - LA</option>\n        <option value="35614">New York, Jersey City, White Plains - NY, NJ (2014-2015)</option>\n        <option value="35644">New York, White Plains, Wayne - NY, NJ (2007-2013)</option>\n        <option value="35660">Niles, Benton Harbor - MI</option>\n        <option value="35840">North Port, Sarasota, Bradenton - FL (2010-2015)</option>\n        <option value="35980">Norwich, New London - CT</option>\n        <option value="36084">Oakland, Hayward, Berkeley - CA</option>\n        <option value="36100">Ocala - FL</option>\n        <option value="36140">Ocean City - NJ</option>\n        <option value="36220">Odessa - TX</option>\n        <option value="36260">Ogden, Clearfield - UT</option>\n        <option value="36420">Oklahoma City - OK</option>\n        <option value="36500">Olympia, Tumwater - WA</option>\n        <option value="36540">Omaha, Council Bluffs - NE, IA</option>\n        <option value="36740">Orlando, Kissimmee, Sanford - FL</option>\n        <option value="36780">Oshkosh, Neenah - WI</option>\n        <option value="36980">Owensboro - KY</option>\n        <option value="37100">Oxnard, Thousand Oaks, Ventura - CA</option>\n        <option value="37340">Palm Bay, Melbourne, Titusville - FL</option>\n        <option value="37380">Palm Coast - FL (2007-2013)</option>\n        <option value="37460">Panama City - FL</option>\n        <option value="37620">Parkersburg, Vienna - WV</option>\n        <option value="37700">Pascagoula - MS (2007-2013)</option>\n        <option value="37764">Peabody - MA (2007-2013)</option>\n        <option value="37860">Pensacola, Ferry Pass, Brent - FL</option>\n        <option value="37900">Peoria - IL</option>\n        <option value="37964">Philadelphia - PA</option>\n        <option value="38060">Phoenix, Mesa, Scottsdale - AZ</option>\n        <option value="38220">Pine Bluff - AR</option>\n        <option value="38300">Pittsburgh - PA</option>\n        <option value="38340">Pittsfield - MA</option>\n        <option value="38540">Pocatello - ID</option>\n        <option value="38660">Ponce - PR</option>\n        <option value="38860">Portland, South Portland - ME</option>\n        <option value="38900">Portland, Vancouver, Hillsboro - OR, WA</option>\n        <option value="38940">Port St. Lucie - FL</option>\n        <option value="39100">Poughkeepsie, Newburgh, Middletown - NY (2007-2013)</option>\n        <option value="39140">Prescott - AZ</option>\n        <option value="39300">Providence, Warwick - RI, MA</option>\n        <option value="39340">Provo, Orem - UT</option>\n        <option value="39380">Pueblo - CO</option>\n        <option value="39460">Punta Gorda - FL</option>\n        <option value="39540">Racine - WI</option>\n        <option value="39580">Raleigh - NC</option>\n        <option value="39660">Rapid City - SD</option>\n        <option value="39740">Reading - PA</option>\n        <option value="39820">Redding - CA</option>\n        <option value="39900">Reno - NV</option>\n        <option value="40060">Richmond - VA</option>\n        <option value="40140">Riverside, San Bernardino, Ontario - CA</option>\n        <option value="40220">Roanoke - VA</option>\n        <option value="40340">Rochester - MN</option>\n        <option value="40380">Rochester - NY</option>\n        <option value="40420">Rockford - IL</option>\n        <option value="40484">Rockingham County, Strafford County - NH</option>\n        <option value="40580">Rocky Mount - NC</option>\n        <option value="40660">Rome - GA</option>\n        <option value="40900">Sacramento, Roseville, Arden-Arcade - CA</option>\n        <option value="40980">Saginaw - MI</option>\n        <option value="41060">St. Cloud - MN</option>\n        <option value="41100">St. George - UT</option>\n        <option value="41140">St. Joseph - MO, KS</option>\n        <option value="41180">St. Louis - MO, IL</option>\n        <option value="41420">Salem - OR</option>\n        <option value="41500">Salinas - CA</option>\n        <option value="41540">Salisbury - MD, DE</option>\n        <option value="41620">Salt Lake City - UT</option>\n        <option value="41660">San Angelo - TX</option>\n        <option value="41700">San Antonio, New Braunfels - TX</option>\n        <option value="41740">San Diego, Carlsbad - CA</option>\n        <option value="41780">Sandusky - OH (2007-2013)</option>\n        <option value="41884">San Francisco, Redwood City, South San Francisco - CA</option>\n        <option value="41900">San German - PR</option>\n        <option value="41940">San Jose, Sunnyvale, Santa Clara - CA</option>\n        <option value="41980">San Juan, Carolina, Caguas - PR</option>\n        <option value="42020">San Luis Obispo, Paso Robles, Arroyo Grande - CA</option>\n        <option value="42034">San Rafael - CA (2014-2015)</option>\n        <option value="42044">Santa Ana, Anaheim, Irvine - CA (2007-2013)</option>\n        <option value="42060">Santa Barbara, Santa Maria, Goleta - CA (2007-2013)</option>\n        <option value="42100">Santa Cruz, Watsonville - CA</option>\n        <option value="42140">Santa Fe - NM</option>\n        <option value="42200">Santa Maria, Santa Barbara - CA (2014-2015)</option>\n        <option value="42220">Santa Rosa - CA</option>\n        <option value="42260">Sarasota, Bradenton, Venice - FL (2007)</option>\n        <option value="42340">Savannah - GA</option>\n        <option value="42540">Scranton, Wilkes-Barre, Hazleton - PA</option>\n        <option value="42644">Seattle, Bellevue, Everett - WA</option>\n        <option value="42680">Sebastian, Vero Beach - FL</option>\n        <option value="42700">Sebring - FL (2014-2015)</option>\n        <option value="43100">Sheboygan - WI</option>\n        <option value="43300">Sherman, Denison - TX</option>\n        <option value="43340">Shreveport, Bossier City - LA</option>\n        <option value="43420">Sierra Vista, Douglas - AZ (2014-2015)</option>\n        <option value="43524">Silver Spring, Frederick, Rockville - MD (2014-2015)</option>\n        <option value="43580">Sioux City - IA, NE, SD</option>\n        <option value="43620">Sioux Falls - SD</option>\n        <option value="43780">South Bend, Mishawaka - IN, MI</option>\n        <option value="43900">Spartanburg - SC</option>\n        <option value="44060">Spokane, Spokane Valley - WA</option>\n        <option value="44100">Springfield - IL</option>\n        <option value="44140">Springfield - MA</option>\n        <option value="44180">Springfield - MO</option>\n        <option value="44220">Springfield - OH</option>\n        <option value="44300">State College - PA</option>\n        <option value="44420">Staunton, Waynesboro - VA (2014-2015)</option>\n        <option value="44600">Steubenville, Weirton - OH, WV (2010-2013)</option>\n        <option value="44700">Stockton, Lodi - CA</option>\n        <option value="44940">Sumter - SC</option>\n        <option value="45060">Syracuse - NY</option>\n        <option value="45104">Tacoma, Lakewood - WA</option>\n        <option value="45220">Tallahassee - FL</option>\n        <option value="45300">Tampa, St. Petersburg, Clearwater - FL</option>\n        <option value="45460">Terre Haute - IN</option>\n        <option value="45500">Texarkana - TX, AR</option>\n        <option value="45540">The Villages - FL (2014-2015)</option>\n        <option value="45780">Toledo - OH</option>\n        <option value="45820">Topeka - KS</option>\n        <option value="45940">Trenton - NJ</option>\n        <option value="46060">Tucson - AZ</option>\n        <option value="46140">Tulsa - OK</option>\n        <option value="46220">Tuscaloosa - AL</option>\n        <option value="46340">Tyler - TX</option>\n        <option value="46520">Urban Honolulu - HI (2014-2015)</option>\n        <option value="46540">Utica, Rome - NY</option>\n        <option value="46660">Valdosta - GA</option>\n        <option value="46700">Vallejo, Fairfield - CA</option>\n        <option value="47020">Victoria - TX</option>\n        <option value="47220">Vineland, Bridgeton - NJ</option>\n        <option value="47260">Virginia Beach, Norfolk, Newport News - VA, NC</option>\n        <option value="47300">Visalia, Porterville - CA</option>\n        <option value="47380">Waco - TX</option>\n        <option value="47460">Walla Walla - WA (2014-2015)</option>\n        <option value="47580">Warner Robins - GA</option>\n        <option value="47644">Warren, Troy, Farmington Hills - MI (2007-2013)</option>\n        <option value="47664">Warren, Troy, Farmington Hills - MI (2014-2015)</option>\n        <option value="47894">Washington, Arlington, Alexandria - DC, VA, MD, WV</option>\n        <option value="47940">Waterloo, Cedar Falls - IA</option>\n        <option value="48060">Watertown, Fort Drum - NY (2014-2015)</option>\n        <option value="48140">Wausau - WI</option>\n        <option value="48260">Weirton, Steubenville - WV, OH (2007-2009, 2014-2015)</option>\n        <option value="48300">Wenatchee - WA</option>\n        <option value="48424">West Palm Beach, Boca Raton, Delray Beach - FL</option>\n        <option value="48540">Wheeling - WV, OH</option>\n        <option value="48620">Wichita - KS</option>\n        <option value="48660">Wichita Falls - TX</option>\n        <option value="48700">Williamsport - PA</option>\n        <option value="48864">Wilmington - DE, MD, NJ</option>\n        <option value="48900">Wilmington - NC</option>\n        <option value="49020">Winchester - VA, WV</option>\n        <option value="49180">Winston, Salem - NC</option>\n        <option value="49340">Worcester - MA, CT</option>\n        <option value="49420">Yakima - WA</option>\n        <option value="49500">Yauco - PR (2007-2013)</option>\n        <option value="49620">York, Hanover - PA</option>\n        <option value="49660">Youngstown, Warren, Boardman - OH, PA</option>\n        <option value="49700">Yuba City - CA</option>\n        <option value="49740">Yuma - AZ</option>\n      </select>\n    </div>\n    <div class="help" role="tooltip"><i class="icon-help-alt"></i></div>\n    <span class="help-text">A Metropolitan Statistical Area (MSA) is a region with relatively high population density at its core (usually a single large city) and close economic ties throughout. Larger MSAs are divided into Metropolitan Divisions (MDs).</span>\n  </li>\n  <!-- /filter field -->\n\n  <!-- filter field -->\n  <li class="field county_code county_code-'+(null==(__t=num)?"":__t)+' disabled hidden">\n    <label for="county_code-'+(null==(__t=num)?"":__t)+'">County:</label>\n    <div class="widget select">\n      <select class="param" name="county_code-'+(null==(__t=num)?"":__t)+'" id="county_code-'+(null==(__t=num)?"":__t)+'" multiple data-concept="fips" data-dependent="census_tract_number-'+(null==(__t=num)?"":__t)+'" data-concept-property="county_name" data-placeholder="Select a state above" data-pre-placeholder="Select a state above" data-post-placeholder="Select a county" disabled>\n      </select>\n    </div>\n  </li>\n  <!-- /filter field -->\n\n  <!-- filter field -->\n  <li class="field census_tract_number census_tract_number-'+(null==(__t=num)?"":__t)+' disabled hidden">\n    <label for="census_tract_number-'+(null==(__t=num)?"":__t)+'">Census tract:</label>\n    <div class="widget select">\n      <select class="param" name="census_tract_number-'+(null==(__t=num)?"":__t)+'" id="census_tract_number-'+(null==(__t=num)?"":__t)+'" multiple data-concept="census_tract_number" data-placeholder="Select a state above" data-pre-placeholder="Select a state above" data-post-placeholder="Select a census tract" disabled>\n      </select>\n    </div>\n    <div class="help" role="tooltip"><i class="icon-help-alt"></i></div>\n    <span class="help-text">A census tract is a small geographic area within a county. Census tracts vary in size, but on average about 4,000 people live in a census tract. Census tract numbers are unique within a county.</span>\n  </li>\n  <!-- /filter field -->\n\n<ul>\n\n';
return __p},this.PDP.templates.option=function(obj){obj||(obj={});var __t,__p="";_.escape;with(obj)__p+='<option value="'+(null==(__t=value)?"":__t)+'">'+(null==(__t=label)?"":__t)+"</option>\n";return __p},this.PDP.templates.spinner=function(obj){obj||(obj={});var __p="";_.escape;with(obj)__p+='<div class="spinning"></div>\n';return __p};var PDP=function(a){"use strict";var b=new EventEmitter;return a.observer=b,a}(PDP||{}),PDP=function(a){"use strict";var b={};return b.showError=function(a){$("#error").text(a).delay(2e4).fadeOut()},b.varToTitle=function(a){var b,c=a.split("_");return c=c.reverse(),isNaN(c[0])===!1&&c.splice(0,1),"name"===c[0]&&c.splice(0,1),"year"===c[0]&&c.splice(1,2),b=c.reverse().join(" "),b=b.charAt(0).toUpperCase()+b.slice(1)},b.getPrettyFilesize=function(a){return a>=1073741824?a=(a/1073741824).toFixed(1)+" GB":a>=1048576?a=(a/1048576).toFixed(1)+" MB":a>=1024?a=(a/1024).toFixed(0)+" KB":a>1?a+=" bytes":1==a?a+=" byte":a="0 byte",a},b.getHashParams=function(){for(var a,b={},c=/\+/g,d=/([^!&;=<>]+)(!?[=><]?)([^&;]*)/g,e=function(a){return decodeURIComponent(a.replace(c," "))},f=window.location.hash.substring(1).replace(/^!\/?/,"");a=d.exec(f);)b[e(a[1])]={values:e(a[3]),comparator:e(a[2])};return b},b.sanitize=function(a){function b(a){var b;do b=a,a=a.replace(d,"");while(a!==b);return a.replace(/</g,"&lt;")}var c="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",d=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+c+">[\\s\\S]*?</script\\s*|style\\b"+c+">[\\s\\S]*?</style\\s*|/?[a-z]"+c+")>","gi");return b(a)},b.commify=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},b.isBlank=function(a){return!a||/^\s*$/.test(a)},b.emptyObject=function(b){return _.isObject(b)?!_.some(b,function(b,c){return!a.utils.isBlank(b)}):void 0},b.nonEmptyValues=function(b){return _.isObject(b)?_.filter(b,function(b,c){return!a.utils.isBlank(b)}):[]},"localStorage"in window||(window.localStorage={_data:{},setItem:function(a,b){return this._data[a]=String(b)},getItem:function(a){return this._data.hasOwnProperty(a)?this._data[a]:void 0},removeItem:function(a){return delete this._data[a]},clear:function(){return this._data={}}}),b.getJSON=function(a){function b(a){var b=-1!==a.indexOf("jsonp")?$.jsonp({url:a}):$.getJSON(a);return b.done(function(a){if(!a||!a.computing){try{localStorage.setItem(g,JSON.stringify(a)),localStorage.setItem(g+":expiration",+new Date+h)}catch(b){d()}window.localStorage.length>100&&d()}}),b}function c(a){var c,d=new $.Deferred,e=localStorage.getItem(g),f=localStorage.getItem(g+":expiration");return!e||!f||f<+new Date?b(a):(setTimeout(function(){d.resolveWith(null,[JSON.parse(e)])}),c=d.promise(),c.status=200,c.statusText="success",c)}function d(){_.keys(localStorage).forEach(function(a){-1!==a.indexOf(f)&&localStorage.removeItem(a)})}var e="localStorage"in window,f="hmda",g=f+":"+a.substring(a.indexOf("?")+1),h=216e5;return window.clearStorage=d,e?c(a):b(a)},b.requireNumeric=function(a){var b=a.which,c=[8,9,16,17,18,36,37,38,39,40,46,48,49,50,51,52,53,54,55,56,57,65,86,91,93,96,97,98,99,100,101,102,103,104,105,188,189,224];-1===c.indexOf(b)&&(a.preventDefault(),$(this).tooltip({title:"Numbers only, please!",trigger:"manual"}),$(this).tooltip("show"),setTimeout(function(){$(this).tooltip("destroy")}.bind(this),3e3))},Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),String.prototype.splice=function(a,b,c){return this.slice(0,a)+c+this.slice(a+Math.abs(b))},Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null===this)throw new TypeError;var b,c,d=Object(this),e=d.length>>>0;if(0===e)return-1;if(b=0,arguments.length>1&&(b=Number(arguments[1]),b!=b?b=0:0!==b&&b!=1/0&&b!=-(1/0)&&(b=(b>0||-1)*Math.floor(Math.abs(b)))),b>=e)return-1;for(c=b>=0?b:Math.max(e-Math.abs(b),0);e>c;c++)if(c in d&&d[c]===a)return c;return-1}),$.fn.initTooltips=function(a){var b=$.extend({placement:"top",container:!1},a);return this.find(".help").tooltip({placement:b.placement,container:b.container,title:function(){return $(this).attr("title")||$(this).next(".help-text").html()}})},a.utils=b,a}(PDP||{}),PDP=function(a){"use strict";return $("a.section-toggle").on("click",function(b){var c=$(this).attr("href").replace("#","");b.preventDefault(),a.observer.emitEvent("navigation:clicked",[c])}),$(".field.as_of_year").on("change",_.debounce(function(b){var c=$(".field.as_of_year select").val();a.form.yearsConflict=!c||c.length>1&&c.indexOf("2014")>-1,a.form.checkYearsConflict()},100)),$("#location").on("click","#highlight-msa-note",function(a){a.preventDefault(),$("html, body").animate({scrollTop:0},100),$("#msa-note .highlight").addClass("highlight-msa")}),$(".field.suggested").on("change",_.debounce(function(b){var c=$(".field.suggested select"),d=c.val();b.preventDefault(),track("Page Interaction","Filters",d),"custom"!==d&&("default"===d?a.query.reset():a.query.reset(d),a.form.resetFields(),a.form.setFields(),a.form.showSections(),a.form.updateShareLink())},100)),$(".filter").on("change",".field select, .field:not(.optional-toggle) input",_.debounce(function(){var b,c=$("#suggested").val(),d=$(this).parents(".field").hasClass("suggested")||$(this).parents(".field").hasClass("as_of_year"),e="custom"===c;a.observer.emitEvent("field:changed",[$(this).attr("id")]),d||e||!c?d&&a.form.removeCustom():(b=$(".field.suggested select").find("option[value="+$(".field.suggested select").val()+"]").text(),b=b?b+" (modified)":"User modified (see filters below)",a.form.setCustom(b),a.form.selectCustom())},300)),$("a#add-state").on("click",function(b){b.preventDefault(),a.form.locationCount++,a.form.locationSetNum++,a.form.addState(a.form.locationSetNum),a.form.locationCount>=a.form.maxNumLocations&&$("a#add-state").hide()}),$(".optional-toggle input").on("change",function(){var b=$(this).parents(".optional-toggle").data("optional");+$(this).val()?a.form.toggleOptional(b,"show"):a.form.toggleOptional(b,"hide")}),$("form#explore").on("submit",function(b){var c=$("#format").val(),d=!!parseInt($(".codes input[type=radio]:checked").val(),10),e=a.query.generateApiUrl(c,d)+"&$limit=0",f="labels";d&&(f="core"),a.form.checkStatic(f,c)&&(e=a.form.checkStatic(f,c)),track("downloads","HMDA raw data","filter-page:"+e),b.preventDefault(),a.app.redirect(e)}),$("#download-raw-button").on("click",function(b){var c=$("#format").val(),d=!!parseInt($(".codes input[type=radio]:checked").val(),10),e=a.query.generateApiUrl(c,d)+"&$limit=0",f="labels";d&&(f="core"),a.form.checkStatic(f,c)&&(e=a.form.checkStatic(f,c)),track("downloads","HMDA raw data","summary-table-page:"+e),b.preventDefault(),a.app.redirect(e)}),$("#download-summary-button").on("click",function(b){var c=$("#summary-table-format").val(),d=!0,e=a.query.generateApiUrl(c,d,a.summaryTable.queryParams)+"&$limit=0";b.preventDefault(),a.app.redirect(e)}),$("#download .codes input").on("change",function(b){a.query.codes=!!parseInt($(".codes input[type=radio]:checked").val(),10),a.preview.updateDownloadSize()}),$(".filter .title").on("click",function(b){var c=$(this).parents(".filter").attr("id"),d=$("#"+c);b.preventDefault(),d.hasClass("closed")?a.form.showFilter(d):a.form.hideFilter(d)}),$("input[name=rate_spread]").on("click",function(a){var b=$(this);b.hasClass("rate-checked")?(b.prop("checked",!1).trigger("change"),$("input[name=rate_spread]").removeClass("rate-checked")):($("input[name=rate_spread]").removeClass("rate-checked"),b.addClass("rate-checked"))}),$(".preview .title").on("click",function(b){var c=$(".preview");b.preventDefault(),$(this).hasClass("disabled")||(c.hasClass("closed")?a.preview.showTable():a.preview.hideTable())}),$("#format").on("change",function(){a.query.format=$(this).val()}),$("a[href=#download]").on("click",function(a){a.preventDefault(),$("html, body").animate({scrollTop:$(document).height()},100)}),$("a.reset").on("click",function(b){b.preventDefault(),a.form.hideSections(),$.removeCookie("_hmda"),a.query.reset(),a.form.resetFields(!0),a.form.setFields(),a.form.updateShareLink(),a.preview.update(),$(".field.suggested select").val("default").trigger("liszt:updated")}),$("a.reset-default").on("click",function(b){b.preventDefault(),a.form.resetFields(),a.query.reset({defaults:!0}),a.form.setFields(),a.form.updateShareLink();var c=_.map($("select[data-dependent], input[data-dependent]"),function(a){return $(a).attr("id")});a.form.checkDeps(c),a.preview.update()}),$(".require-numeric").on("keydown",a.utils.requireNumeric),$(".check-range").on("change",function(a){var b=$(this),c=b.find(".min-value"),d=b.find(".max-value");c.val()&&d.val()&&parseInt(c.val(),10)>parseInt(d.val(),10)&&(a.preventDefault(),d.tooltip({title:"Maximum amount must be greater than or equal to the minimum amount",trigger:"manual"}),d.tooltip("show"),d.val(""),setTimeout(function(){d.tooltip("destroy")}.bind(this),5e3))}),$(".share_url").on("click",function(){$(this).select()}),$(function(){a.observer.emitEvent("dom:loaded")}),a}(PDP||{}),PDP=function(a){"use strict";var b={};return b.debug=!1,b.format=b.debug?"json":"jsonp?$callback=",b.endpoint=b.debug?"static/js/static_data/":"https://api.consumerfinance.gov/data/hmda/",b.secondsToWait=300,b.codes=!1,b.params={},b.reset=function(a){var b=$(".field.as_of_year select").val()||[2014];switch(a){case"originations":this.params={as_of_year:{values:b,comparator:"="},action_taken:{values:[1],comparator:"="}};break;case"common":this.params={as_of_year:{values:b,comparator:"="},property_type:{values:[1,2],comparator:"="},owner_occupancy:{values:[1],comparator:"="},lien_status:{values:[1],comparator:"="},action_taken:{values:[1],comparator:"="}};break;case"all":this.params={as_of_year:{values:b,comparator:"="}};break;case"clear":this.params={};break;default:this.params={as_of_year:{values:[2014],comparator:"="}}}return this},b.updateAll=function(c){function d(a){a.name&&a.values&&("undefined"==typeof b.params[a.name]&&(b.params[a.name]={values:[],comparator:"="}),"text"===a.type?b.params[a.name].values=[a.values]:_.forEach(a.values,function(c,d){var e=b.params[a.name].values;_.contains(e,c)||e.push(c)}),b.params[a.name].comparator=a.comparator)}var e,f=c||{};switch(f.source){case"url":e=a.app.getUrlValues();break;default:e=a.form.getFields()}this.reset("clear"),_.forEach(e,d),a.observer.emitEvent("params:updated")},b.setCookie=function(){$.cookie("_hmda",a.form.getFields(),{expires:1})},b.getCookie=function(){return $.cookie("_hmda")},b.generateUrlHash=function(){function c(a,b){a.values[0]&&e.push(b+a.comparator+a.values.join(","))}var d,e=[];return _.forEach(b.params,c),d="!/"+e.join("&")+"&section="+a.app.currentSection},b.removeSelectParam=function(a){var b=$.extend(!0,{},a);try{delete b.clauses.where.select}catch(c){}return delete b.select,b},b.generateApiUrl=function(a,c,d){var e,f=d||this.params,g=c||this.codes,h=a||this.format;return f=b.removeSelectParam(f),e=this.endpoint+"slice/hmda_lar."+h+"?",g||(f={clauses:{where:f,select:["action_taken_name","agency_abbr","agency_name","applicant_ethnicity_name","applicant_race_name_1","applicant_race_name_2","applicant_race_name_3","applicant_race_name_4","applicant_race_name_5","applicant_sex_name","application_date_indicator","as_of_year","census_tract_number","co_applicant_ethnicity_name","co_applicant_race_name_1","co_applicant_race_name_2","co_applicant_race_name_3","co_applicant_race_name_4","co_applicant_race_name_5","co_applicant_sex_name","county_name","denial_reason_name_1","denial_reason_name_2","denial_reason_name_3","edit_status_name","hoepa_status_name","lien_status_name","loan_purpose_name","loan_type_name","msamd_name","owner_occupancy_name","preapproval_name","property_type_name","purchaser_type_name","respondent_id","sequence_number","state_abbr","state_name","applicant_income_000s","hud_median_family_income","loan_amount_000s","number_of_1_to_4_family_units","number_of_owner_occupied_units","minority_population","population","rate_spread","tract_to_msamd_income"]}}),e+=this._buildApiQuery(f)},b._buildApiQuery=function(a){var b,c="";if(a.hasOwnProperty("clauses"))for(b in a.clauses)a.clauses.hasOwnProperty(b)&&(c+=this._buildClause[b](a.clauses[b]));else c=this._buildClause.where(a);return c},b._buildClause={where:function(a){var b,c={},d=[],e=[],f={};return _.forEach(a,function(a,b){if(a.joiner=" AND ",a.values&&a.values[0]){var d,e;b.match(/\-\d+$/)?b.indexOf("state_code")>-1||b.indexOf("county_code")>-1||b.indexOf("census_tract_number")>-1?(e=b.slice(-2),"undefined"==typeof f[e]&&(f[e]={stateValue:"",countyValues:[],censusValues:[],comparator:"=",joiner:" OR "}),_.forEach(a.values,function(a){b.indexOf("state_code")>-1?f[e].stateValue=a:b.indexOf("county_code")>-1?f[e].countyValues.push(a):b.indexOf("census_tract_number")>-1&&f[e].censusValues.push('"'+a+'"')})):(d=b.replace(/\-\d+$/,""),"undefined"==typeof c[d]&&(c[d]={values:[],comparator:"=",joiner:" AND "}),_.forEach(a.values,function(a){c[d].values.push(a)})):c[b]=a}}),_.forEach(c,function(a,b){var c;b=b.replace(/\-(min|max)$/,""),c=this._formatComparisonValues(a,b),b.indexOf("msamd")>-1?(a.joiner=" OR ",e.push(c),e.push(a.joiner)):d.push(c)}.bind(this)),_.forEach(f,function(a,b){var c="",d=f[b];""===d.stateValue||(0===d.countyValues.length&&0===d.censusValues.length?(c+="state_code="+d.stateValue,e.push(c),e.push(d.joiner)):0===d.countyValues.length&&d.censusValues.length>0?(c+="(state_code="+d.stateValue+" AND census_tract_number IN ("+d.censusValues+"))",e.push(c),e.push(d.joiner)):0===d.censusValues.length?(c+="(state_code="+d.stateValue+" AND county_code IN ("+d.countyValues.toString()+"))",e.push(c),e.push(d.joiner)):(c+="(state_code="+d.stateValue+" AND county_code IN ("+d.countyValues.toString()+") AND census_tract_number IN ("+d.censusValues.toString()+"))",e.push(c),e.push(d.joiner)))}),e.pop(),d.length>0?(b=d.join(" AND "),e.length>0&&(b+=" AND ("+e.join("")+")")):(b="",e.length>0&&(b+="("+e.join("")+")")),"&$where="+encodeURI(b).replace(/%20/g,"+")},select:function(a){return"&$select="+this._listVals(a)},group:function(a){return"&$group="+this._listVals(a)+"&$orderBy="+this._listVals(_.clone(a).reverse())},_listVals:function(a){for(var b=a.length,c="";b--;)"undefined"!=typeof a[b]&&(c+=a[b],b>0&&(c+=","));return c},_formatComparisonValues:function(a,b){var c,d=[];return 1===a.values.length?c="null"==a.values[0]?b+a.comparator+'""':isNaN(a.values[0])||"msamd"===b||"respondent_id"===b||"census_tract_number"===b?b+a.comparator+'"'+a.values[0]+'"':b+a.comparator+a.values[0]:(_.forEach(a.values,function(a,c){isNaN(a)||"msamd"===b||"respondent_id"===b||"census_tract_number"===b?d.push('"'+a+'"'):d.push(a)}),b+" IN ("+d+")")}},b.fetch=function(){},a.query=b,a}(PDP||{}),PDP=function(a){"use strict";var b={};return b.$el=$("#preview"),b.$downloadSize=$(".filesize"),b._updating=!1,b.nlw={$el:$(".nlw"),count:"many"},b.startLoading=function(){this.$el.addClass("loading"),this.nlw.$el.addClass("loading"),this.nlw.$el.find(".calculating").show(),this.nlw.$el.find(".count").hide(),b.$downloadSize.addClass("hidden")},b.stopLoading=function(){this.$el.removeClass("loading"),this.nlw.$el.removeClass("loading"),this.nlw.$el.find(".calculating").hide(),this.nlw.$el.find(".count").show()},b.showTable=function(){this.$el.slideDown(250),this.enableTable(),$(".preview").removeClass("closed")},b.hideTable=function(){this.$el.slideUp(250),$(".preview").addClass("closed")},b.enableTable=function(){$(".preview .title").removeClass("disabled"),this.$el.find("th, td").tooltip({container:"body",html:!0}),$(".msg.preview-table").removeClass("error").html("")},b.disableTable=function(){var a=$(".preview .title");a.addClass("disabled"),$(".msg.preview-table").addClass("error").html('<i class="icon-error-alt"></i> There was a problem connecting to the API. Reload the page and if this problem persists, <a href="http://www.consumerfinance.gov/contact-us/">contact us</a>.')},b._lastRequestTime=(new Date).getTime(),b._fetchPreviewJSON=function(){var c=a.query.generateApiUrl(null,!0)+"&$limit=100",d=a.utils.getJSON(c);return b._lastRequestTime=(new Date).getTime(),d._timestamp=b._lastRequestTime,d},b.update=function(){function c(c,d){e=!0,b.nlw.count="probably a whole lot of",b.updateNLW(),b.stopLoading(),b.disableTable(),a.form.disableField(g)}var d,e,f=this._fetchPreviewJSON(),g=$("#download .action");e=!1,b.startLoading(),b.enableTable(),a.form.enableField(g),b.updateNLW(),f.done(function(c){f._timestamp<b._lastRequestTime||e||(c.total<=0&&a.form.disableField(g),b.nlw.count=c.total,b.updateTable(c.results),b.updateNLW(),b.updateDownloadSize(),b.stopLoading())}),f.fail(c),d=setTimeout(function(){"resolved"!==f.state()&&f._timestamp==b._lastRequestTime&&c(null,"time out")},1e3*a.query.secondsToWait)},b.updateNLW=function(){var c,d,e=a.utils.commify(b.nlw.count),f=$.map($("#as_of_year option"),function(a){return a.value});switch("undefined"==typeof a.query.params.as_of_year||_.isEmpty(a.query.params.as_of_year.values)||(f=_.filter(_.clone(a.query.params.as_of_year.values),function(a){return f.indexOf(String(a))>-1})),$("#suggested").val()){case"common":c=" for first-lien, owner-occupied, 1-4 family homes";break;case"originations":c=" with originated mortgages";break;case"default":c="";break;case"all":c="";break;default:c=" with the above selected filters"}f.length>1&&(f=f.sort(),d=_.every(f,function(a,b,c){return b>0?a==+c[b-1]+1:!0}),f=d?f[0]+" - "+_.last(f):f.join(", ")),b.nlw.$el.find(".count").html(e),b.nlw.$el.find(".years").html(f),b.nlw.$el.find(".filter-selection").html(c)},b.updateDownloadSize=function(){var c,d=b.nlw.count,e=a.query.codes?724.88:684.88;return isNaN(d)||!d?void b.$downloadSize.addClass("hidden"):(b.$downloadSize.removeClass("hidden"),c=a.utils.getPrettyFilesize(d*e),void b.$downloadSize.find(".bytes").html(c))},b.updateTable=function(a){var c={action_taken_name:"Action taken",agency_name:"Agency name",applicant_ethnicity_name:"Applicant ethnicity",applicant_race_name_1:"Applicant race",applicant_sex_name:"Applicant sex",census_tract_number:"Census tract",co_applicant_ethnicity_name:"Co-applicant ethnicity",co_applicant_race_name_1:"Co-applicant race",co_applicant_sex_name:"Co-applicant sex",county_name:"County",denial_reason_name_1:"Denial reason",edit_status_name:"Status",hoepa_status_name:"HOEPA status",lien_status_name:"Lien status",loan_purpose_name:"Loan purpose",loan_type_name:"Loan type",msamd_name:"MSA",owner_occupancy_name:"Owner occupancy",preapproval_name:"Preapproval",property_type_name:"Property type",purchaser_type_name:"Purchaser type",respondent_id:"Respondent ID",sequence_number:"Sequence number",state_name:"State",as_of_year:"Year"},d=_.keys(c),e=[],f={};_(d).forEach(function(a){f[a]="<em>N/A</em>"}),_(a).forEach(function(a){var b=_.clone(f),c=[];_(a).forEach(function(a,c){_.include(d,c)&&(b[c]=a)}),_(b).forEach(function(a){c.push(a)}),e.push(c)}),b.$el.TidyTable({},{columnTitles:_.toArray(c),columnValues:e})},a.preview=b,a}(PDP||{}),PDP=function(a){"use strict";var b={};return b.$el=$("#summary-table-form"),b.$page=$("#summary"),b._inputs={},b._inputs.all=$("*[data-summary-table-input]"),b._inputs.varFields=[$("#variable0"),$("#variable1"),$("#variable2")],b._inputs.calculate=$("#calculate-by"),b.genericError="Sorry, something went awry when we tried to load your data. Please try again?",b.fields=["action_taken_name","agency_name","applicant_ethnicity_name","applicant_sex_name","applicant_race_name_1","co_applicant_ethnicity_name","co_applicant_race_name_1","co_applicant_sex_name","county_name","denial_reason_name_1","hoepa_status_name","lien_status_name","loan_purpose_name","loan_type_name","msamd_name","owner_occupancy_name","preapproval_name","property_type_name","purchaser_type_name","respondent_id","state_name","as_of_year"],b.metrics={count:{api:"COUNT()",human:"Number of records"},min_applicant_income_000s:{api:"MIN(applicant_income_000s)",human:"Applicant Income Minimum"},max_applicant_income_000s:{api:"MAX(applicant_income_000s)",human:"Applicant Income Maximum"},avg_applicant_income_000s:{api:"AVG(applicant_income_000s)",human:"Applicant Income Average"},min_loan_amount_000s:{api:"MIN(loan_amount_000s)",human:"Loan Amount Minimum"},max_loan_amount_000s:{api:"MAX(loan_amount_000s)",human:"Loan Amount Maximum"},avg_loan_amount_000s:{api:"AVG(loan_amount_000s)",human:"Loan Amount Average"},sum_loan_amount_000s:{api:"SUM(loan_amount_000s)",human:"Loan Amount Sum Total"}},b.fieldVals={variables:[],calculate:""},b.queryParams={},b.queryParams.clauses={},b._lastRequestTime="",b._lastTimeout="",b.optionTmpl=function(b,c){var d=c?"selected":"";return'<option value="'+b+'"'+d+">"+a.utils.varToTitle(b)+"</option>"},b._populateOptions=function(){b._populateFields(b._inputs.varFields,b.fields,b.optionTmpl)},b._populateFields=function(a,b,c){for(var d,e,f=a.length,g=b.length-1,h=!0;f--;)for(e=a[f],d=0;g>=d;d++)e.append(c(b[d]),h),h=!1},b._chosenInit=function(){this.$el.find("select").chosen({width:"100%",disable_search_threshold:10})},b.updateFieldVals=function(a){var b,c=a.target.value,d=a.target.id.substr(-1,1);$(a.target).find("option[value="+c+"]").attr("placeholder")&&(c=""),"calculate-by"===a.target.id?this.fieldVals.calculate=c:(b=this.fieldVals.variables[d],this.fieldVals.variables[d]=c,this._updateFields(c),-1===_.indexOf(this.fieldVals.variables,b)&&this._updateFields(b))},b._updateFields=function(a){var b;for(b=0;2>=b;b++)$("#variable"+b).find("option[value="+a+"]").toggleClass("hidden").trigger("liszt:updated")},b._showSpinner=function(){this.$page.addClass("loading")},b._removeSpinner=function(){this.$page.removeClass("loading")},b._requestData=function(){var c,d=10;this._lastRequestTime=(new Date).getTime(),c=a.utils.getJSON(a.query.generateApiUrl("jsonp?$callback=",!0,this.queryParams)+"&$limit=0"),c.timestamp=this._lastRequestTime,c.done(function(a){b.cancelTimeout(),c.timestamp===b._lastRequestTime&&(a.computing?b._lastTimeout=setTimeout(function(){b._requestData()},1e3*d):(b._handleApiResponse(a),b._removeSpinner()))})},b._mungeDollarAmts=function(b){var c,d,e;for(c in b.results)if(b.results.hasOwnProperty(c))for(d in b.results[c])this.metrics.hasOwnProperty(d)&&(e=b.results[c][d],null===e||""===e||isNaN(e)?b.results[c][d]="Data not available":0>e?b.results[c][d]="Data format error. A negative number was found in original data: "+e:"count"===d?b.results[c][d]=a.utils.commify(e):b.results[c][d]="$"+Math.round(1e3*e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","));return b},b._handleApiResponse=function(a){this.resetTable(),this.updateTableHeaders(),this.populateTable(this._prepData(a))},b._prepData=function(a){return a=this._mungeDollarAmts(a)},b.resetTable=function(){var a=$("table#summary-table");a.empty()},b.queryToVal=function(a){var b,c;for(b=a.split(/\(|\)/),c=b.length;c--;)""===b[c]&&b.splice(c,1);return b=b.join("_").toLowerCase()},b.populateTable=function(a){var b,c,d,e,f=$("table#summary-table"),g=a.results.length-1,h=this.queryParams.clauses.select.length;if(this._removeSpinner(),this._enableTable(),!_.isEmpty(a.errors))return void this._throwFetchError();if(0===a.total)return void this._disableTable();for(c=0;g>=c;c++){for(d=$("<tr></tr>"),b=0;h>b;b++)"undefined"!=typeof this.queryParams.clauses.select[b]&&(e=a.results[c][this.queryParams.clauses.select[b]],"undefined"==typeof e&&(e=a.results[c][this.queryToVal(this.queryParams.clauses.select[b])],"undefined"==typeof e&&(e='<em class="not-reported">not reported</em>')),d.append("<td>"+e+"</td>"));f.append(d)}},b._throwFetchError=function(){a.utils.showError(this.genericError)},b.resetColumn=function(a,b){var c=this.fieldVals.variables[b];this.fieldVals.variables[b]=null,this._updateFields(c)},b.createTable=function(){return $("#summary-table-container").append('<table id="summary-table"></table>'),this.$table=$("table#summary-table"),this.$table},b.updateTableHeaders=function(){var b,c,d=$("table#summary-table"),e=$('<tr class="header"></tr>'),f=this.queryParams.clauses.select.slice(0),g=f.length;for(b=0;g>=b;b++)"undefined"!=typeof f[b]&&(b===g-1&&(c=this.queryToVal(f[b]),this.metrics.hasOwnProperty(c)&&(f[b]=this.metrics[c].human)),e.append('<td id="'+c+'">'+a.utils.varToTitle(f[b])+"</td>"));d.prepend(e)},b.cancelTimeout=function(){clearTimeout(this._lastTimeout)},b._buildQueryArrays=function(b){this.queryParams.clauses={group:b.variables,select:b.variables.concat([this.metrics[b.calculate].api]),where:a.query.params}},b._updateShareLink=function(b){b=b.variables.concat(b.calculate),a.query.params.select={comparator:"=",values:b},a.form.updateShareLink()},b._prepFieldVals=function(){return{variables:a.utils.nonEmptyValues(this.fieldVals.variables),calculate:this.fieldVals.calculate||"count"}},b._disableTable=function(){a.form.disableField($("#summary .instructions")),a.form.disableField($("#summary .drop-downs")),a.form.disableField($("#download-summary .action")),$("#summary-table").hide()},b._enableTable=function(){a.form.enableField($("#summary .instructions")),a.form.enableField($("#summary .drop-downs")),a.form.enableField($("#download-summary .action")),$("#summary-table").show()},b.setupTable=function(){var a=this._prepFieldVals();this.cancelTimeout(),this.resetTable(),a.variables.length>0&&(this._showSpinner(),this._buildQueryArrays(a),this._updateShareLink(a),this._requestData(),this.enableDownload())},b._extractValuesFromUrlParams=function(a){_.each(a,function(a,c){b.metrics[a]?b.fieldVals.calculate=a:-1!==_.indexOf(b.fields,a)&&-1===_.indexOf(b.fieldVals.variables,a)&&b.fieldVals.variables.length<3&&b.fieldVals.variables.push(a)})},b._updateSummaryFields=function(){var a,c;for(a=0;3>a;a++)b.fieldVals.variables[a]&&(c=b.fieldVals.variables[a],b._inputs.varFields[a].val(c).trigger("liszt:updated"),b._updateFields(c));b.fieldVals.calculate&&b._inputs.calculate.val(b.fieldVals.calculate).trigger("liszt:updated")},b._updateSummaryFieldsUI=function(){var a,c=b.fieldVals.variables.length;c>1?(a=2===c?$("#reset-variable1"):$("#reset-variable1, #reset-variable2"),a.removeClass("hidden")):$("#variable2").attr("disabled","disabled").trigger("liszt:updated")},b.showTableFromUrlParams=function(a){this._extractValuesFromUrlParams(a),this._updateSummaryFields(),this._updateSummaryFieldsUI(),this.setupTable()},b.init=function(){var c;b._populateOptions(),b._chosenInit(),b.createTable(),b.disableDownload(),b.$page.find(".share_url").tooltip({title:"Copied to clipboard!",trigger:"manual"}),b.$page.initTooltips({placement:"right"}),$("#calculate-by option").each(function(){var a=$(this).text();$(this).attr("data-abbr",a)}),c=(a.query.params.select||{}).values||[],c.length>0?b.showTableFromUrlParams(c):$("#variable1, #variable2, #calculate-by").attr("disabled","disabled").trigger("liszt:updated"),this._inputs.all.on("change",function(a){if(this.updateFieldVals(a),"calculate-by"!==a.target.id){var b=a.target.id.substr(-1,1);$("#calculate-by, #variable".concat(++b)).removeAttr("disabled").trigger("liszt:updated"),b>0&&$("#reset-"+a.target.id).removeClass("hidden")}else{var c=$("#calculate-by").val(),d=$("#calculate-by option[value="+$("#calculate-by").val()+"]").attr("data-verbose")||c;$("#calculate-by option").each(function(){var a=$(this).attr("data-abbr");$(this).text(a)}),$("#calculate-by option[value="+c+"]").text(d),$("#calculate-by").trigger("liszt:updated")}}.bind(this)),$(".reset-field").on("click",function(a){a.preventDefault();var b=a.target.id.substr(-1,1),c=a.target.getAttribute("data-summary-table-input");this.resetColumn(c,b),$(a.target).addClass("hidden"),$("#variable"+b).find("option:first-child").prop("selected",!0).end().trigger("liszt:updated"),$("#variable".concat(++b)).attr("disabled","disabled").trigger("liszt:updated")}.bind(this)),$("#summary-submit").on("click",function(a){a.preventDefault(),track("Page Interaction","Click Submit","Generate Summary Table"),this.setupTable()}.bind(this))},b.disableDownload=function(){var a=$("#download-summary");a.addClass("disabled").find("select, input").attr("disabled","disabled")},b.enableDownload=function(){var a=$("#download-summary");a.removeClass("disabled").find("select, input").removeAttr("disabled")},a.summaryTable=b,a}(PDP||{}),PDP=function(a){"use strict";var b={};return b.$el=$("form"),b.maxNumLocations=15,b.locationCount=1,b.locationSetNum=1,b.yearsConflict=!1,b.init=function(){this.$fields=b.$el.find(".field:not(.ignore)"),_.isEmpty(a.utils.getHashParams())||(a.form.setCustom("User modified (see filters below)"),a.form.selectCustom())},b.clip=new ZeroClipboard($(".share.btn"),{moviePath:"static/js/zeroclipboard/ZeroClipboard.swf",hoverClass:"clipboard-hover"}),b.clip.on("complete",function(a,b){$(".share_url").tooltip("show"),$(".share_url").select(),setTimeout(function(){$(".share_url").tooltip("hide")},3e3)}),b.hideSections=function(){$(".filter:not(.year)").not(".footer").addClass("hidden"),$(".year .intro").addClass("hidden")},b.showSections=function(){$(".filter:not(.year)").not(".footer").removeClass("hidden"),$(".year .intro").removeClass("hidden")},b.setCustom=function(a){$(".suggested .custom").text(a).parent("select").trigger("liszt:updated")},b.selectCustom=function(){$("#suggested").val("custom").trigger("liszt:updated")},b.removeCustom=function(){$(".suggested .custom").text("").trigger("liszt:updated")},b.showFilter=function(b){var c=$(b),d=c.find(".fields"),e=Math.max(d.show().height(),10);d.hide().css("height",0),d.show().animate({height:e},150,"swing",function(){$(this).css("height","auto"),a.form.yearsConflict&&a.form.disableMSAs()}),c.removeClass("closed").attr("title",""),a.observer.emitEvent("filter:shown",b)},b.hideFilter=function(b){$(b).addClass("closed").attr("title","Show this filter section").find(".fields").slideUp(200),a.observer.emitEvent("filter:hidden",b)},b.checkFilters=function(){a.form.$fields.each(function(){var b=$(this),c=$(this).parents(".filter.closed");a.form.hasValue(b)&&c.length>0&&a.form.showFilter(c)}),$(".field.optional").each(function(){if(a.form.hasValue($(this))){var b=$(this).data("optional").split(" ");_(b).forEach(function(b){a.form.toggleOptional(b,"show")})}})},b.checkLocations=function(){var c=0,d=1,e=[];for(_.forEach(_.keys(a.query.params),function(a){e=a.match(/(state_code|msamd)\-(\d+)$/),e&&e.length>0&&(d=Math.max(e[2],d))});d>c;)c++,b.addState(c)},b.hasValue=function(a){var b=a.find("select, input");if(!b)return!1;if("select"===b.prop("tagName").toLowerCase()||"text"===b.attr("type")){if(b.val())return b.val().length>0}else if("checkbox"===b.attr("type")){var c=_.some(b,function(a){return $(a).prop("checked")});return c}return!1},b.getField=function(a){var b=a.prop("tagName").toLowerCase(),c=a.attr("type"),d=a.attr("name")||void 0,e=a.val()&&-1!==a.val().indexOf(",")?a.val().replace(/,/g,""):a.val(),f={};if(!b&&!c||!e)return!1;if("radio"===c||"checkbox"===c){if(!a.is(":checked"))return!1;d=d.replace("[]","")}return f={name:d,tagName:b,type:c,values:e instanceof Array?e:[e],comparator:_.isEmpty(a.data("comparator"))?"=":a.data("comparator")}},b.getFields=function(){var b=[],c=a.app.$el.find(".param");return c.each(function(){var c=$(this),d=a.form.getField(c);d&&b.push(d)}),b},b.setField=function(b){var c=a.query.params,d=c[b];_.forEach(d.values,function(a){$("input[name="+b+'][value="'+a+'"]').prop("checked",!0),$("input[name="+b+'\\[\\]][value="'+a+'"]').prop("checked",!0)}),$("select[name="+b+"]").val(d.values).trigger("liszt:updated"),"="!==c[b].comparator?$("input[type=text][name="+b+'][data-comparator="'+c[b].comparator+'"]').val(d.values[0]):$("input[type=text][name="+b+"]").val(d.values[0])},b.setFields=function(b){function c(a,b){$("input").prop("checked",!1),$("select").val("").trigger("liszt:updated");
}var d=b||{},e=_.keys(a.query.params);_.forEach(e,d.empty?c:this.setField)},b.updateFieldOptions=function(b,c){if($(b).find("select").length<1)return!1;$(b).find(".spinning").length<1&&$(b).append(PDP.templates.spinner),$(b).find(".spinning").show(),a.observer.emitEvent("update:started"),this.resetField(b);var d=$(b).find("select").data("concept")||$(b).find("select").attr("id"),e=$(b).find("select").attr("id"),f=$(b).find("select").data("concept-property")||$(b).find("select").attr("id"),g=this.fetchFieldOptions(d,c);g.done(function(g){function h(a){return _.contains(c,a[n])}function i(a){return{label:a[f.replace(/\-[\w^_]+$/,"")],value:a._id}}function j(a){return{label:a.census_tract_number,value:a.census_tract_number}}function k(a){return a.label}function l(a){return"fips"===d?{label:a.label,value:a.value.toString().substr(2,100)}:a}var m,n=$("[data-dependent~="+e+"]").attr("id").replace(/\-[\w^_]+$/,"");"undefined"!=typeof g.table&&(m=_(g.table.data).filter(h).map(i).map(l).sortBy(k).value(),this.setFieldOptions(b,m),a.observer.emitEvent("field:updated")),"undefined"!=typeof g.results&&(m=_(g.results).map(j).sortBy(k).uniq(!0,"value").value(),this.setFieldOptions(b,m),a.observer.emitEvent("field:updated")),a.observer.emitEvent("update:stopped"),$(b).find(".spinning").hide()}.bind(this))},b.setFieldOptions=function(a,b){var c=$(a).find("select"),d=PDP.templates.option;_.forEach(b,function(a){c.append(d(a))}),c.trigger("liszt:updated")},b.fetchFieldOptions=function(b,c){var d;switch(b){case"fips":d=a.utils.getJSON("static/js/static_data/concept/fips.json");break;case"census_tract_number":var e=c.pop();d=a.utils.getJSON(a.query.endpoint+"slice/census_tracts."+a.query.format+"?&$where=state_code="+e+"+AND+county_code+IN+("+c+")&$limit=3000");break;default:d=a.utils.getJSON(a.query.endpoint+"concept/"+b+"."+a.query.format+"?")}return window.prms=d,d},b.resetField=function(a){$(a).find("option").remove(),$(a).find("select").trigger("liszt:updated")},b.resetFields=function(c){var d=c?a.app.$el.find(".param"):a.app.$el.find(".param:not(#as_of_year)");d.each(function(){var a=$(this).attr("name").replace(/\[\]/g,"\\[\\]");$("input[type=radio][name="+a+"]").prop("checked",!1),$("input[type=checkbox][name="+a+"]").prop("checked",!1),$("input[type=text][name="+a+"]").val(""),$("select[name="+a+"]").val("").trigger("liszt:updated"),b.checkMutuallyExclusive(a)})},b.disableField=function(a){var b,c=$(a),d=c.find("select");return c.addClass("disabled").find("select, input, button").attr("disabled","disabled"),_.isEmpty(d)||(b=d.data("pre-placeholder"),d.attr("data-placeholder",b).trigger("liszt:updated")),a},b.enableField=function(a){var b,c=$(a),d=c.find("select");return c.removeClass("disabled").find("select, input, button").removeAttr("disabled").trigger("liszt:updated"),_.isEmpty(d)||(b=d.data("post-placeholder"),d.attr("data-placeholder",b).trigger("liszt:updated")),a},b.hideField=function(a){return $(a).addClass("hidden"),a},b.showField=function(a){return $(a).removeClass("hidden"),a},b.checkDeps=function(c){function d(b,c,d){a.observer.emitEvent("field:"+b,[c,d])}c=c instanceof Array?c:[c],_.forEach(c,function(a){var c,e=$("#"+a),f=e.attr("data-dependent");f&&(f=f.split(" ").join(", #"),c=$("#"+f).parents(".field"),e.val()?_.forEach(c,function(a){var c=b.getField(e).values;e.parent().parent().hasClass("county_code")&&c.push(e.closest(".fields").find("li.state_code").find(".chzn-done").val()),d("shown",a,c)}):(setTimeout(function(){b.checkDeps([e.attr("id")])},100),_.forEach(c,function(a){d("hidden",a,e.attr("id"))})))})},b.checkMutuallyExclusive=function(c){c=c instanceof Array?c:[c],_.forEach(c,function(c){var d=$("#"+c),e=d.data("toggle"),f=$(".field."+e);if(f.length>0&&d.val()&&d.val().length>0)b.disableField(f);else{if(e&&e.indexOf("msamd")>-1&&a.form.yearsConflict)return;b.enableField(f)}})},b.disableMSAs=function(){$(".field.msamd select").val("").trigger("liszt:updated"),a.form.checkMutuallyExclusive(["msamd-1","msamd-2","msamd-3","msamd-4","msamd-5"]),a.form.disableField($(".field.msamd"))},b.checkYearsConflict=function(){a.form.yearsConflict?(a.form.disableMSAs(),$(".msa-warning").removeClass("hidden"),$("#summary-table-form select").find("option[value=msamd_name]").remove(),$("#summary-table-form select").trigger("liszt:updated")):(a.form.enableField($(".field.msamd")),$(".msa-warning").addClass("hidden"),$("#summary-table-form option[value=loan_type_name]").after('<option value="msamd_name">MSA</option>'),$("#summary-table-form select").trigger("liszt:updated"))},b.addState=function(b){var c=PDP.templates.location,d=$(window).width()>768?"right":"left";$("#location-sets").append(c({num:b})).initTooltips({placement:d,container:"body"}),$(".location-set-"+b).find("select").chosen({width:"100%",disable_search_threshold:10,allow_single_deselect:!0}),a.form.yearsConflict&&a.form.disableMSAs()},b.toggleOptional=function(a,b){"hide"===b?$("."+a).addClass("hidden"):($("."+a).removeClass("hidden"),$(".include_"+a+" input[value=1]").prop("checked",!0))},b.updateShareLink=function(){var b=a.query.generateUrlHash(),c=window.location.href.replace(/#.*/,"");$(".share_url").val(c+"#"+b)},b.checkStatic=function(b,c){var d=a.query.params,e=fileMap.slices[0].staticFiles;return d=a.query.removeSelectParam(d),d=PDP.query._buildApiQuery(d),"undefined"==typeof e[d]||"undefined"==typeof e[d][b]||"undefined"==typeof e[d][b][c]?!1:fileMap.endpoint+e[d][b][c]+".zip"},a.form=b,a}(PDP||{}),PDP=function(a){"use strict";var b={};return window.onhashchange=function(){b.changeSection(b.getUrlValue("section"),!1)},b.$el=$("#filters"),b.currentSection="filters",b.init=function(){var c=a.utils.getHashParams(),d=$(window).width()>768?"right":"left";$.cookie.json=!0,b.$el.find("select").chosen({width:"100%",disable_search_threshold:10,allow_single_deselect:!0}),$(".chzn-container .search-field input").css("width","130%"),b.$el.initTooltips({placement:d}),b.$el.find(".share_url").tooltip({title:"Copied to clipboard!",trigger:"manual"}),_.isEmpty(c)?a.query.reset():a.query.updateAll({source:"url"}),$(".app-section").addClass("ready"),a.observer.emitEvent("app:ready")},b.start=function(){var c,d;a.form.checkLocations(),a.form.init(),a.form.hideSections(),a.form.setFields(),a.form.yearsConflict=!a.query.params.as_of_year||a.query.params.as_of_year.values.length>1&&a.query.params.as_of_year.values.indexOf("2014")>-1,a.form.checkYearsConflict(),c=_.map($("select[data-dependent], input[data-dependent]"),function(a){return $(a).attr("id")}),a.form.checkDeps(c),d=_.map($("select[data-toggle], input[data-toggle]"),function(a){return $(a).attr("id")}),a.form.checkMutuallyExclusive(d),a.form.checkFilters(),$("#preview").hide(),b.changeSection(b.currentSection,!1),_.isEmpty(a.utils.getHashParams())||($(".field.suggested select").val("custom").trigger("liszt:updated"),a.form.showSections()),a.observer.emitEvent("app:started")},b.startLoading=function(){this.$el.addClass("loading")},b.stopLoading=function(){this.$el.removeClass("loading")},b.redirect=function(a){window.open(a,"_blank")},b.getUrlValue=function(b){var c,d,e=a.utils.getHashParams();return"section"===b?"undefined"!=typeof e.section?e.section.values:"filters":(d=e[b].values,d=_.map(d,function(b){return a.utils.sanitize(b)}),c={name:b,value:e[b].values,comparator:e[b].comparator})},b.getUrlValues=function(){function c(c,e){var f={},g=[],h=c.values.split(",");return h=_.map(h,function(b){return a.utils.sanitize(b)}),"section"===e?void(b.currentSection=h):(_.forEach(h,function(a){g.push(a)}),f={name:e,values:g,comparator:c.comparator},void d.push(f))}var d=[],e=a.utils.getHashParams();return _.forEach(e,c),d},b.changeSection=function(b,c){if(b=b||this.currentSection,c="undefined"==typeof c?!0:c,!$("#"+b).length){if(!(b instanceof Array))return;b=b[0].indexOf("summary")>-1?"summary":"filters"}$(".app-section").addClass("hidden"),$("nav a.section-toggle ").removeClass("active"),$("#"+b).removeClass("hidden"),$("nav a[href=#"+b+"].section-toggle").addClass("active"),this.currentSection=b,a.form.setFields(),a.form.checkFilters(),window.scrollTo(0,0),c&&(window.location.hash=PDP.query.generateUrlHash()),"summary"===this.currentSection?a.summaryTable.setupTable():a.summaryTable.cancelTimeout()},a.app=b,a}(PDP||{}),PDP=function(a){"use strict";return a.observer.addListeners({"dom:loaded":[a.app.init.bind(a.app)],"app:ready":[a.app.start.bind(a.app),a.app.stopLoading.bind(a.app),a.summaryTable.init.bind(a.summaryTable)],"app:started":[a.form.updateShareLink.bind(a.form),a.form.updateFieldOptions.bind(a.form),a.preview.update.bind(a.preview)],"field:changed":[a.query.updateAll.bind(a.query),a.form.checkDeps.bind(a.form),a.form.checkMutuallyExclusive.bind(a.form),a.form.updateShareLink.bind(a.form),a.query.setCookie.bind(a.query)],"navigation:clicked":[a.app.changeSection.bind(a.app),a.form.updateShareLink.bind(a.form)],"params:updated":[a.preview.update.bind(a.preview)],"field:shown":[a.form.showField.bind(a.form),a.form.enableField.bind(a.form),a.form.updateFieldOptions.bind(a.form)],"field:hidden":[a.form.resetField.bind(a.form),a.form.disableField.bind(a.form),a.form.hideField.bind(a.form)],"field:updated":[a.form.setFields.bind(a.form)],"update:started":a.app.startLoading.bind(a.app),"update:stopped":a.app.stopLoading.bind(a.app),download:a.app.redirect.bind(a.app)}),a}(PDP||{});
//# sourceMappingURL=source-maps/explore.js